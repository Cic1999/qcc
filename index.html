<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCC Pro X - 企業級品質管理套件</title>
    <!-- 1. 載入 Tailwind CSS (排版美化) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. 載入 React 核心庫 -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- 3. 載入 Babel (讓瀏覽器看得懂 JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* 自定義捲軸樣式，增加質感 */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #cbd5e1; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-[#F8FAFC]">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 高質感內嵌圖示組件 ---
        const Icons = {
            Home: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
            ),
            Package: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.27 6.96 8.73 5.05 8.73-5.05"/><path d="M12 22.08V12"/>
                </svg>
            ),
            FileText: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/>
                </svg>
            ),
            BookOpen: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                </svg>
            ),
            Target: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/>
                </svg>
            ),
            Layers: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"/><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"/><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"/>
                </svg>
            ),
            Activity: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
                </svg>
            ),
            ChevronDown: ({ size = 16, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="m6 9 6 6 6-6"/>
                </svg>
            ),
            Menu: ({ size = 24, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>
                </svg>
            ),
            X: ({ size = 24, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="M18 6 6 18"/><path d="m6 6 12 12"/>
                </svg>
            ),
            ArrowUp: ({ size = 20, className = "" }) => (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d="m18 15-6-6-6 6"/>
                </svg>
            )
        };

        // --- 背景組件 ---
        const BackgroundCanvas = () => (
            <div className="fixed inset-0 -z-20 pointer-events-none overflow-hidden bg-[#F8FAFC]">
                <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-slate-50 via-white to-blue-50/30"></div>
                <div className="absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-teal-200/20 blur-[120px] rounded-full animate-pulse"></div>
                <div className="absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-indigo-200/20 blur-[100px] rounded-full animate-pulse"></div>
                <div className="absolute inset-0 opacity-[0.03]" style={{ backgroundImage: 'radial-gradient(#000 1px, transparent 1px)', backgroundSize: '40px 40px' }}></div>
                <svg className="absolute inset-0 w-full h-full opacity-[0.05]" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <pattern id="qcc-mesh" x="0" y="0" width="200" height="200" patternUnits="userSpaceOnUse">
                            <circle cx="50" cy="50" r="3" fill="currentColor" />
                            <circle cx="150" cy="120" r="2" fill="currentColor" />
                            <path d="M50 50 L150 120" stroke="currentColor" strokeWidth="0.5" />
                            <path d="M150 120 L100 180" stroke="currentColor" strokeWidth="0.5" />
                            <circle cx="100" cy="180" r="2.5" fill="currentColor" />
                        </pattern>
                    </defs>
                    <rect width="100%" height="100%" fill="url(#qcc-mesh)" />
                </svg>
            </div>
        );

        // --- 配置 ---
        const NAV_CONFIG = [
            { id: 'home', label: '系統總覽', icon: Icons.Home, color: 'text-teal-600', bg: 'bg-teal-50', border: 'border-teal-200' },
            { 
                id: 'toolkit', label: '品管工具箱', icon: Icons.Package, color: 'text-blue-600', bg: 'bg-blue-50', border: 'border-blue-200',
                subItems: [
                    { id: 'q-tools', label: 'QC 七大手法' },
                    { id: 'm-tools', label: '新 QC 七大手法' },
                    { id: 'digital', label: '數位自動化' }
                ]
            },
            { 
                id: 'format', label: '規範指南', icon: Icons.FileText, color: 'text-indigo-600', bg: 'bg-indigo-50', border: 'border-indigo-200',
                subItems: [
                    { id: 'solve', label: '問題解決型' },
                    { id: 'achieve', label: '課題達成型' },
                    { id: 'suggest', label: '改善提案型' }
                ]
            },
            { id: 'reference', label: '文獻資源', icon: Icons.BookOpen, color: 'text-amber-600', bg: 'bg-amber-50', border: 'border-amber-200' },
            { id: 'quiz', label: '學習測驗', icon: Icons.Target, color: 'text-rose-600', bg: 'bg-rose-50', border: 'border-rose-200' }
        ];

        const PAGE_CONTENT = {
            'home': {
                title: "歡迎來到 QCC Pro 控制中心",
                subtitle: "品質改善的核心起點，掌握圈組進度與工具應用。",
                render: () => (
                    <div className="space-y-8">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <DashboardCard title="活躍圈數" value="128" icon={Icons.Layers} color="text-teal-600" />
                            <DashboardCard title="達成指標" value="92.4%" icon={Icons.Activity} color="text-blue-600" />
                            <DashboardCard title="標準範本" value="24+" icon={Icons.FileText} color="text-indigo-600" />
                        </div>
                        <div className="bg-slate-900 rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl">
                            <div className="absolute top-0 right-0 w-80 h-80 bg-teal-500/20 blur-[100px] -mr-32 -mt-32"></div>
                            <h3 className="text-3xl font-black mb-4 relative z-10">系統公告與更新</h3>
                            <p className="text-slate-400 max-w-2xl text-lg relative z-10 leading-relaxed">我們在「規範指南」中新增了改善提案型模板。所有現有圈組請於本月底前完成進度更新。</p>
                            <button className="mt-8 px-8 py-4 bg-teal-500 text-slate-900 font-black rounded-2xl relative z-10">查看詳細公告</button>
                        </div>
                    </div>
                )
            },
            'toolkit_q-tools': {
                title: "QC 七大手法",
                subtitle: "分析事實與數據的最佳路徑。",
                render: () => (
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {['柏拉圖', '魚骨圖', '散佈圖', '直方圖'].map(name => (
                            <div key={name} className="p-8 bg-white/80 backdrop-blur-md border border-white shadow-sm rounded-[2.5rem] hover:shadow-xl transition-all group">
                                <div className="w-14 h-14 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:bg-blue-600 group-hover:text-white transition-all">
                                    <Icons.Target size={28} />
                                </div>
                                <h4 className="text-2xl font-black mb-2">{name}</h4>
                                <p className="text-slate-500">專業數據視覺化分析，透過科學化工具精確定位問題核心。</p>
                            </div>
                        ))}
                    </div>
                )
            }
        };

        const DashboardCard = ({ title, value, icon: Icon, color }) => (
            <div className="bg-white/80 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white shadow-sm relative overflow-hidden group hover:shadow-2xl transition-all">
                <div className={`absolute -right-6 -bottom-6 opacity-[0.03] ${color}`}><Icon size={140} /></div>
                <div className={`w-14 h-14 rounded-2xl bg-slate-50 flex items-center justify-center mb-6 ${color} shadow-sm group-hover:scale-110 transition-transform`}>
                    <Icon size={28} />
                </div>
                <div className="text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-1">{title}</div>
                <div className="text-4xl font-black text-slate-800 tracking-tighter">{value}</div>
            </div>
        );

        function App() {
            const [activeNav, setActiveNav] = useState('home');
            const [activeSubNav, setActiveSubNav] = useState('');
            const [expandedNav, setExpandedNav] = useState(['home', 'toolkit', 'format']);
            const [isSidebarOpen, setSidebarOpen] = useState(false);

            const handleNavClick = (id) => {
                const navItem = NAV_CONFIG.find(n => n.id === id);
                if (navItem?.subItems) {
                    setExpandedNav(prev => prev.includes(id) ? prev.filter(i => i !== id) : [...prev, id]);
                    if (activeNav !== id) {
                        setActiveNav(id);
                        setActiveSubNav(navItem.subItems[0].id);
                    }
                } else {
                    setActiveNav(id);
                    setActiveSubNav('');
                    setSidebarOpen(false);
                }
            };

            const contentKey = activeSubNav ? `${activeNav}_${activeSubNav}` : activeNav;
            const currentContent = PAGE_CONTENT[contentKey] || {
                title: "模組優化中",
                subtitle: "此功能模組正在進行最終校閱與介面優化，敬請期待。",
                render: () => <div className="py-24 text-center text-slate-300 font-bold italic text-2xl uppercase">Building Module...</div>
            };

            return (
                <div className="min-h-screen flex relative">
                    <BackgroundCanvas />

                    {/* Desktop Sidebar */}
                    <aside className="hidden lg:flex flex-col w-80 h-screen sticky top-0 bg-white/60 backdrop-blur-2xl border-r border-white p-8 shadow-2xl">
                        <div className="flex items-center space-x-3 mb-16 px-2">
                            <div className="w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center text-white shadow-2xl rotate-3">
                                <Icons.Layers size={26} />
                            </div>
                            <div>
                                <h1 className="text-2xl font-black tracking-tighter text-slate-800">QCC <span className="text-teal-600">Pro</span></h1>
                                <p className="text-[10px] font-black text-slate-400 uppercase tracking-widest">Management Suite</p>
                            </div>
                        </div>

                        <nav className="flex-1 space-y-2 overflow-y-auto no-scrollbar pr-2">
                            {NAV_CONFIG.map(item => {
                                const isMainActive = activeNav === item.id;
                                const isExpanded = expandedNav.includes(item.id);
                                const Icon = item.icon;
                                return (
                                    <div key={item.id} className="space-y-1">
                                        <button onClick={() => handleNavClick(item.id)} className={`w-full flex items-center justify-between px-5 py-4 rounded-3xl transition-all duration-500 group relative overflow-hidden ${isMainActive ? `${item.bg} ${item.color} shadow-lg ring-1 ${item.border}` : 'text-slate-400 hover:bg-white hover:text-slate-800'}`}>
                                            <div className="flex items-center space-x-4">
                                                <Icon size={22} className={isMainActive ? item.color : 'group-hover:text-slate-600'} />
                                                <span className="font-black text-sm tracking-wide">{item.label}</span>
                                            </div>
                                            {item.subItems && <Icons.ChevronDown size={18} className={`transition-transform duration-500 ${isExpanded ? 'rotate-180' : ''}`} />}
                                        </button>
                                        {item.subItems && isExpanded && (
                                            <div className="ml-6 space-y-1">
                                                {item.subItems.map(sub => {
                                                    const isSubActive = activeSubNav === sub.id;
                                                    return (
                                                        <button key={sub.id} onClick={() => {setActiveNav(item.id); setActiveSubNav(sub.id);}} className={`w-full text-left px-10 py-3 rounded-2xl text-[13px] font-bold transition-all ${isSubActive ? `${item.color} bg-white shadow-sm ring-1 ring-slate-100` : 'text-slate-400 hover:text-slate-600 hover:bg-white/50'}`}>
                                                            {sub.label}
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        )}
                                    </div>
                                );
                            })}
                        </nav>
                        <div className="mt-auto pt-8 border-t border-slate-100/50">
                            <div className="p-5 bg-white/40 rounded-[2.5rem] border border-white flex items-center space-x-4 shadow-sm">
                                <div className="w-10 h-10 rounded-2xl bg-slate-100 flex items-center justify-center text-teal-600 font-black text-xs">JD</div>
                                <div><p className="text-xs font-black text-slate-800">品質總監</p><p className="text-[10px] font-bold text-slate-400 uppercase">System Ready</p></div>
                            </div>
                        </div>
                    </aside>

                    {/* Mobile Header */}
                    <header className="lg:hidden fixed top-0 left-0 right-0 z-40 bg-white/70 backdrop-blur-2xl border-b border-white px-6 py-4 flex justify-between items-center shadow-sm">
                        <div className="flex items-center space-x-3"><Icons.Layers className="text-teal-600" /><span className="font-black text-xl tracking-tighter text-slate-800">QCC Pro</span></div>
                        <button onClick={() => setSidebarOpen(true)} className="p-2.5 bg-slate-900 text-white rounded-2xl shadow-xl active:scale-90 transition-transform"><Icons.Menu size={20} /></button>
                    </header>

                    {/* Mobile Sidebar */}
                    <div className={`fixed inset-0 z-50 transition-all duration-500 ${isSidebarOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>
                        <div className="absolute inset-0 bg-slate-900/40 backdrop-blur-md" onClick={() => setSidebarOpen(false)}></div>
                        <div className={`absolute left-0 top-0 h-full w-80 bg-white/90 backdrop-blur-2xl p-8 transition-transform duration-700 transform ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}>
                            <div className="flex justify-between items-center mb-12"><span className="font-black text-slate-400 uppercase tracking-widest text-[10px]">控制選單</span><button onClick={() => setSidebarOpen(false)}><Icons.X size={20} /></button></div>
                            <div className="space-y-4">
                                {NAV_CONFIG.map(item => (
                                    <div key={item.id}>
                                        <button onClick={() => handleNavClick(item.id)} className={`w-full text-left p-4 rounded-2xl font-black text-lg ${activeNav === item.id ? item.color : 'text-slate-400'}`}>{item.label}</button>
                                        {item.subItems && expandedNav.includes(item.id) && (
                                            <div className="ml-6 space-y-2 mt-2 border-l-2 border-slate-100 pl-4">
                                                {item.subItems.map(sub => (
                                                    <button key={sub.id} onClick={() => { setActiveNav(item.id); setActiveSubNav(sub.id); setSidebarOpen(false); }} className={`w-full text-left p-2 text-sm font-bold ${activeSubNav === sub.id ? 'text-slate-900' : 'text-slate-400'}`}>{sub.label}</button>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <main className="flex-1 min-w-0 pt-24 lg:pt-0">
                        <div className="max-w-6xl mx-auto px-6 py-12 lg:py-24">
                            <div className="mb-16">
                                <div className="flex items-center space-x-3 mb-6"><div className="h-[2.5px] w-12 bg-slate-200 rounded-full"></div><span className="text-[12px] font-black uppercase tracking-[0.5em] text-slate-400/80">{NAV_CONFIG.find(n => n.id === activeNav)?.label}{activeSubNav && ` / ${NAV_CONFIG.find(n => n.id === activeNav).subItems.find(s => s.id === activeSubNav)?.label}`}</span></div>
                                <h2 className="text-6xl lg:text-9xl font-black tracking-tighter text-slate-900 mb-10 leading-none">{currentContent.title}</h2>
                                <p className="text-xl lg:text-3xl text-slate-500 max-w-4xl leading-snug font-medium italic">{currentContent.subtitle}</p>
                            </div>
                            <section className="min-h-[600px]">{currentContent.render()}</section>
                            <footer className="mt-48 pt-12 border-t border-slate-200/50 flex flex-col md:flex-row items-center justify-between gap-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-400">
                                <div className="flex items-center space-x-10"><span className="flex items-center"><Icons.Layers size={14} className="mr-2" /> QCC Pro Standard v3.5</span><span className="flex items-center text-emerald-500 tracking-normal"><div className="w-2 h-2 rounded-full bg-emerald-500 mr-2 animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"></div>系統連線正常</span></div>
                                <div className="flex space-x-12"><a href="#" className="hover:text-teal-600 transition-colors">Documentation</a><a href="#" className="hover:text-teal-600 transition-colors">Support</a></div>
                            </footer>
                        </div>
                    </main>

                    {/* Scroll to Top */}
                    <button onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })} className="fixed bottom-12 right-12 p-4 bg-white/80 backdrop-blur-md shadow-2xl rounded-2xl text-slate-900 border border-white hover:bg-slate-900 hover:text-white transition-all transform hover:scale-110 active:scale-90 z-40 group"><Icons.ArrowUp size={24} className="group-hover:animate-bounce" /></button>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
